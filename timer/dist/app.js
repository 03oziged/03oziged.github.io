!function(n){var t={};function c(e){if(t[e])return t[e].exports;var l=t[e]={i:e,l:!1,exports:{}};return n[e].call(l.exports,l,l.exports,c),l.l=!0,l.exports}c.m=n,c.c=t,c.d=function(n,t,e){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var l in n)c.d(e,l,function(t){return n[t]}.bind(null,l));return e},c.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="/dist",c(c.s=1)}([function(module,exports){eval("const navBlock = document.querySelector('.start_timer_buttons_scroll_wrapper');\r\n\r\ndocument.addEventListener('scroll', e => {\r\n  if (window.pageYOffset) navBlock.style.top = 0;\r\n  else navBlock.style.top = '-110px';\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9uYXZCbG9jay9uYXZCbG9jay5qcz82NTg5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5hdkJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0X3RpbWVyX2J1dHRvbnNfc2Nyb2xsX3dyYXBwZXInKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGUgPT4ge1xyXG4gIGlmICh3aW5kb3cucGFnZVlPZmZzZXQpIG5hdkJsb2NrLnN0eWxlLnRvcCA9IDA7XHJcbiAgZWxzZSBuYXZCbG9jay5zdHlsZS50b3AgPSAnLTExMHB4JztcclxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/soundBoard/audios.js\n\r\nlet audios = {\r\n    defaultStatus: {\r\n      name: 'Без Звука',\r\n      src: ''\r\n    },\r\n    iphoneAlarm: {\r\n      name: 'iPhone Melody',\r\n      src: 'http://d.zaix.ru/csMd.mp3'\r\n    },\r\n    androidAlarm: {\r\n      name: 'Android Melody',\r\n      src: 'http://d.zaix.ru/csMd.mp3'    \r\n    }\r\n  }\r\n  \r\n  let audiosCount = 3;\r\n\r\nconst audiosObj =  {\r\n    audios: audios,\r\n    audiosCount: audiosCount\r\n}\r\n\r\n/* harmony default export */ var soundBoard_audios = (audiosObj);\n// CONCATENATED MODULE: ./src/js/soundBoard/sound.js\n\r\n\r\n\r\nfunction updateStorageArray() {\r\n  localStorage.setItem('timers', JSON.stringify(storageCode));\r\n}\r\n\r\nclass sound_Sound {\r\n    constructor() {\r\n      this.soundSelected = false;\r\n      this.soundBoard = this.generateSoundBoard();\r\n    }\r\n  \r\n    generateSoundBoard() {\r\n      let soundBoard = document.createElement('div');\r\n      let select = document.createElement('div');\r\n      let options = document.createElement('div');\r\n      soundBoard.classList.add('sound_wrapper');\r\n      select.classList.add('sound_select');\r\n      options.classList.add('sound_options')\r\n      options.classList.add('offScrollY');\r\n      options.style.height = soundBoard_audios.audiosCount*31+'px';\r\n      soundBoard.append(select);\r\n      soundBoard.append(options);\r\n      createOptionsList.call(this);\r\n      setListenerss.call(this);\r\n  \r\n      return soundBoard;\r\n      \r\n      // create list of songs from 'audios' \r\n      function createOptionsList() {\r\n        if (!this.soundSelected) select.textContent = soundBoard_audios.audios['defaultStatus']['name'];\r\n        else select.textContent = this.soundSelected;\r\n        \r\n        for (let key in soundBoard_audios.audios){\r\n          let option = document.createElement('div');\r\n          option.classList.add('sound_option');\r\n          option.textContent = soundBoard_audios.audios[key].name;\r\n          options.append(option);\r\n        }\r\n      }\r\n  \r\n      function setListenerss() {\r\n        select.addEventListener('click', () => {\r\n          this.soundBoard.closest('.timer').classList.toggle('z_index');\r\n          console.log(options);\r\n          options.classList.toggle('show_audios');\r\n        });\r\n        options.addEventListener('click', e => {\r\n          select.textContent = e.target.textContent;\r\n          this.soundSelected = select.textContent;\r\n          updateStorageArray();\r\n        });\r\n        document.addEventListener('click', e => {\r\n          if (e.target != select) this.soundBoard.closest('.timer').classList.remove('z_index');\r\n          if (e.target != select) options.classList.remove('show_audios');\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /* harmony default export */ var sound = (sound_Sound);\n// CONCATENATED MODULE: ./src/js/helpFuncs/createElem.js\nfunction createElem(tag, textContent, classList, listeners) {\r\n    let element = document.createElement(tag);\r\n    if (textContent) element.textContent = textContent;\r\n    if (classList) element.classList.add(classList);\r\n    if (listeners) for (let key in listeners) {\r\n        element.addEventListener(key, listeners[key]);\r\n    }\r\n    return element;\r\n}\r\n\r\n/* harmony default export */ var helpFuncs_createElem = (createElem);\n// CONCATENATED MODULE: ./src/js/helpFuncs/appendElems.js\nfunction appendElems(target) {\r\n    [].forEach.call(arguments, (elem, i) => {\r\n        if (i == 0) return;\r\n        target.append(elem);\r\n    });\r\n}\r\n\r\n/* harmony default export */ var helpFuncs_appendElems = (appendElems);\n// CONCATENATED MODULE: ./src/js/helpFuncs/makeVisibleSmooth.js\nfunction makeVisible() {\r\n        [].forEach.call(arguments, elem => {\r\n            elem.style.visibility = 'visible';\r\n            setTimeout(() => {\r\n                elem.style.opacity = 1;\r\n            }, 0);\r\n        });\r\n}\r\n\r\n/* harmony default export */ var makeVisibleSmooth = (makeVisible);\r\n\r\n\n// CONCATENATED MODULE: ./src/js/helpFuncs/classListAdd.js\nfunction classListAdd() {\r\n    [].forEach.call(arguments, (elem, i) => {\r\n        if (!i) return;\r\n        elem.classList.add(arguments[0]);\r\n    })\r\n}\r\n\r\n/* harmony default export */ var helpFuncs_classListAdd = (classListAdd);\n// CONCATENATED MODULE: ./src/js/helpFuncs/classListRemove.js\nfunction classListRemove() {\r\n    [].forEach.call(arguments, (elem, i) => {\r\n        if (!i) return;\r\n        elem.classList.remove(arguments[0]);\r\n    })\r\n}\r\n\r\n/* harmony default export */ var helpFuncs_classListRemove = (classListRemove);\n// CONCATENATED MODULE: ./src/js/timer.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass timer_DateTimer {\r\n    constructor(date){\r\n      if (date instanceof Date) this.end = date.getTime();\r\n      this.interval = 0;\r\n      this.timerDiv;\r\n      this.sound;\r\n      this.timerClass = 'date';\r\n    }\r\n  \r\n    generate() {\r\n      this.timerDiv = helpFuncs_createElem('div', '', 'timer');\r\n      this.buttonStop = helpFuncs_createElem('button', 'STOP', 'stop_button', {click: ()=>this.pauseCount()});\r\n      this.buttonStart = helpFuncs_createElem('button', 'START', 'start_button', {click: ()=>this.startCount()});\r\n      this.buttonDelete = helpFuncs_createElem('button', 'DELETE', 'delete_button', {click: ()=>this.deleteTimer()});\r\n      this.months = helpFuncs_createElem('div', '', 'counter_point');\r\n      this.days = helpFuncs_createElem('div', '', 'counter_point');\r\n      this.hours = helpFuncs_createElem('div', '', 'counter_point');\r\n      this.minutes = helpFuncs_createElem('div', '', 'counter_point');\r\n      this.seconds = helpFuncs_createElem('div', '', 'counter_point');\r\n      this.mili = helpFuncs_createElem('div', '', 'counter_point');\r\n\r\n      let changeOrderUp = helpFuncs_createElem('div', '', 'change_order_up', {click: ()=> this.changeOrderUp()});\r\n      let changeOrderDown = helpFuncs_createElem('div', '', 'change_order_down', {click: ()=> this.changeOrderDown()});\r\n\r\n      this.destroyTimer = helpFuncs_createElem('div', '', 'destroy_timer');\r\n      this.destroyTimerInteract = helpFuncs_createElem('div', '', 'destroy_timer_interact', {click: () => this.deleteTimer()});\r\n      let destroyMark = helpFuncs_createElem('div', '', 'destroy_timer_mark');\r\n      this.destroyTimerInteract.append(destroyMark);\r\n      let destroyText = helpFuncs_createElem('button', 'DESTROY TIMER', 'destroy_button');\r\n      this.destroyTimerInteract.append(destroyText);\r\n      \r\n      \r\n      this.timerCounters = document.createElement('div');\r\n      this.buttonsWrapper = document.createElement('div');\r\n      this.monthsWrapper = document.createElement('div');\r\n  \r\n      this.counterPoints = [this.months, this.days, this.hours, this.minutes, this.seconds, this.mili];\r\n      this.counterPointsNames = ['months', 'days', 'hours', 'minutes', 'seconds', 'miliseconds'];\r\n      this.timerCounters.classList.add('timer_counters');\r\n      this.buttonsWrapper.classList.add('buttons_wrapper');\r\n  \r\n  \r\n      this.timerDiv.classList.add('zero_opacity');\r\n      helpFuncs_appendElems(this.timerDiv, this.timerCounters, this.buttonsWrapper, this.destroyTimer, this.destroyTimerInteract, changeOrderUp, changeOrderDown);\r\n      helpFuncs_appendElems(this.timerCounters, this.months, this.days, this.hours, this.minutes, this.seconds, this.mili);\r\n      if (this.timerClass == 'minutes') helpFuncs_appendElems(this.buttonsWrapper, this.buttonStart, this.buttonStop);\r\n      helpFuncs_appendElems(this.buttonsWrapper, this.buttonDelete);\r\n\r\n\r\n      /////\r\n  \r\n      this.counterPoints.forEach( elem => {\r\n        elem.addEventListener('click', () => {\r\n          this.pauseCount();\r\n        });\r\n      });\r\n  \r\n      ////\r\n  \r\n  \r\n      createWrappersForCounterPoints.call(this);\r\n  \r\n      document.body.insertBefore(this.timerDiv, document.body.children[2]);\r\n    \r\n      setTimeout(() => {\r\n        this.timerDiv.classList.remove('zero_opacity');\r\n        this.timerDiv.classList.add('full_opacity');\r\n      });\r\n  \r\n      function createWrappersForCounterPoints() {\r\n        this.counterPoints.forEach( (elem, i) => {\r\n          let wrapper = document.createElement('div');\r\n          let bottomText = document.createElement('span');\r\n          bottomText.textContent = this.counterPointsNames[i];\r\n          bottomText.classList.add('counter_point_bottom_text')\r\n          wrapper.append(elem);\r\n          wrapper.append(bottomText);\r\n          wrapper.classList.add('counter_point_wrapper');\r\n          this.timerCounters.append(wrapper);\r\n        })\r\n      }\r\n      console.log(this);\r\n    }\r\n  \r\n    createSound(song) {\r\n      if (song) {\r\n        this.sound.__proto__ = sound.prototype;\r\n        this.sound.soundBoard = this.sound.generateSoundBoard();\r\n      }\r\n      else this.sound = new sound();\r\n      this.buttonsWrapper.append(this.sound.soundBoard);\r\n    }\r\n    \r\n    startCount(rebooted) {\r\n      if (!this.interval && this.end - Date.now() > 0) {\r\n        this.updateTime();\r\n        this.interval = setInterval(this.updateTime.bind(this),88);\r\n      }\r\n  \r\n      if (rebooted) {\r\n        this.interval = setInterval(this.updateTime.bind(this),88);\r\n      }\r\n      \r\n    }\r\n  \r\n  \r\n    pauseCount() {\r\n      clearInterval(this.interval);\r\n      this.interval = 0;\r\n    }\r\n  \r\n    deleteTimer() {\r\n      this.pauseCount();\r\n      this.timerDiv.parentNode.removeChild(this.timerDiv);\r\n      if (this.alertAudio) this.alertAudio.pause();\r\n      storageCode.forEach ( (elem, i) => {\r\n        if (this == elem) deleteFromArray(i);\r\n      })\r\n  \r\n      function deleteFromArray(i) {\r\n        storageCode.splice(i,1);\r\n        localStorage.setItem('timers', JSON.stringify(storageCode));      \r\n      }\r\n    } \r\n  \r\n    endAlert() {\r\n      let alertAudio = new Audio();\r\n          let soundSelected = this.sound.soundSelected;\r\n      for (let key in soundBoard_audios.audios) {\r\n        if (soundBoard_audios.audios[key]['name'] == soundSelected) {\r\n          console.log(this);\r\n          console.log(alertAudio);\r\n          alertAudio.src = soundBoard_audios.audios[key]['src'];\r\n          alertAudio.play();\r\n          this.alertAudio = alertAudio;\r\n        }\r\n      }\r\n      makeVisibleSmooth(this.destroyTimer, this.destroyTimerInteract);\r\n    }\r\n  \r\n    updateTime() {\r\n      let temp = this.end - Date.now()\r\n  \r\n      if (temp < 0) {\r\n        this.pauseCount();\r\n        drawTime.call(this, '00','00','00','00','00','00');\r\n        this.endAlert();\r\n        return;\r\n      }\r\n  \r\n      let months = Math.floor(temp / 2592000000);\r\n      let days = Math.floor((temp - (2592000000 * months)) / 86400000);\r\n      let hours = Math.floor((temp - (2592000000 * months) - 86400000 * days) / (1000*3600));\r\n      let minutes = Math.floor((temp - (2592000000 * months) - (86400000 * days) - (1000 * 3600 * hours)) / (1000 * 60));\r\n      let seconds = Math.floor(((temp - (2592000000 * months) - (86400000 * days) - (1000 * 3600 * hours) - (1000 * 60 * minutes)) / 1000));\r\n      let mili = Math.floor((temp - (2592000000 * months) - (86400000 * days) - (1000 * 3600 * hours) - (1000 * 60 * minutes) - (1000 * seconds)) / 10);\r\n  \r\n      let fixZero = validateOutput(months, days, hours, minutes, seconds, mili);\r\n      drawTime.apply(this, [...fixZero]);\r\n  \r\n      function validateOutput() {\r\n        let result = [];\r\n        for (let i = 0; i < arguments.length; i++) {\r\n          if ((''+arguments[i]).length == 1) result.push('0'+arguments[i]);\r\n          else result.push(arguments[i]);\r\n        }\r\n        return result;\r\n      }\r\n  \r\n      function drawTime() {\r\n        let months = arguments[0];\r\n        let days = arguments[1];\r\n        let hours = arguments[2];\r\n        let minutes = arguments[3];\r\n        let seconds = arguments[4];\r\n        let mili = arguments[5];\r\n        this.months.textContent = months;\r\n        this.days.textContent = days;\r\n        this.hours.textContent = hours;\r\n        this.minutes.textContent = minutes;\r\n        this.seconds.textContent = seconds;\r\n        this.mili.textContent = mili+'';\r\n      }\r\n    }\r\n\r\n    changeOrderUp() {\r\n      if (this.timerDiv.previousSibling.classList.contains('timer')) {\r\n        helpFuncs_classListAdd('zero_opacity', this.timerDiv, this.timerDiv.previousSibling);\r\n        setTimeout(() => {\r\n          document.body.insertBefore(this.timerDiv, this.timerDiv.previousSibling);\r\n          setTimeout(() => {\r\n            helpFuncs_classListRemove('zero_opacity', this.timerDiv, this.timerDiv.nextSibling);\r\n          }, 0);\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n    changeOrderDown() {\r\n      if (this.timerDiv.nextSibling.classList.contains('timer')) {\r\n        helpFuncs_classListAdd('zero_opacity', this.timerDiv, this.timerDiv.nextSibling);\r\n        setTimeout(() => {\r\n          document.body.insertBefore(this.timerDiv, this.timerDiv.nextSibling.nextSibling);\r\n          setTimeout(() => {\r\n            helpFuncs_classListRemove('zero_opacity', this.timerDiv, this.timerDiv.previousSibling);\r\n          }, 0);\r\n        }, 1000);\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  /* harmony default export */ var js_timer = (timer_DateTimer);\n// CONCATENATED MODULE: ./src/js/timerMinutes.js\n\r\n\r\n\r\n\r\n\r\n\r\nclass timerMinutes_MinuteTimer extends js_timer{\r\n    constructor(date) {\r\n        super(date);\r\n        this.end = date;\r\n        this.timeToEnd;\r\n        this.timerPaused = false;\r\n        this.timerClass = 'minutes';\r\n    }\r\n\r\n        startCount(rebooted) {\r\n          if (this.timeToEnd && this.timerPaused) {\r\n            this.end = Date.now() + this.timeToEnd;\r\n          };\r\n        \r\n          this.timerPaused = false;   \r\n            if (!this.interval && this.end - Date.now() > 0) {\r\n              this.updateTime();\r\n              this.interval = setInterval(this.updateTime.bind(this),88);\r\n            }\r\n        \r\n            if (rebooted) {\r\n              this.interval = setInterval(this.updateTime.bind(this),88);\r\n            }\r\n            setTimeout(() => {\r\n              timerMinutes_updateStorageArray();\r\n            }, 0);\r\n          }\r\n\r\n        pauseCount() {\r\n          this.timerPaused = true;\r\n            this.timeToEnd = this.end - Date.now();\r\n            clearInterval(this.interval);\r\n            this.interval = 0;\r\n            setTimeout(() => {\r\n              timerMinutes_updateStorageArray();\r\n            }, 0);;\r\n          }\r\n    }\r\n\r\n    function timerMinutes_updateStorageArray() {\r\n      localStorage.setItem('timers', JSON.stringify(storageCode));\r\n    }\r\n\r\n\r\n    \r\n/* harmony default export */ var timerMinutes = (timerMinutes_MinuteTimer);\n// CONCATENATED MODULE: ./src/js/storageSave/storageCode.js\n\r\n\r\n\r\n\r\nfunction checkStorage() {\r\n    let timers = localStorage.getItem('timers');\r\n    if (!timers) return '';\r\n    return JSON.parse(timers);\r\n  }\r\n  \r\n  let storageArray = checkStorage() || [];\r\n  storageArray.forEach( timer => {\r\n    if (timer.timerClass == 'date') timer.__proto__ = js_timer.prototype;\r\n    if (timer.timerClass == 'minutes') timer.__proto__ = timerMinutes.prototype;\r\n    timer.generate();\r\n    if (!timer.timerPaused) timer.startCount(true);\r\n    else {\r\n      timer.startCount();\r\n      timer.updateTime();\r\n      timer.pauseCount();\r\n    };\r\n    timer.sound.__proto__ = sound.prototype;\r\n    timer.createSound(timer.sound);\r\n  });\r\n\r\n  /* harmony default export */ var storageCode = (storageArray);\r\n  \n// CONCATENATED MODULE: ./src/js/helpFuncs/setScrollTo.js\nfunction setScrollTo(wrapper, scrollContent) {\r\nlet wrapperTop, scrollElem, scrollElemTop;\r\n    wrapper.scrollTo(0,0);\r\n    if (wrapper.classList.contains('show')) {\r\n        wrapperTop = wrapper.getBoundingClientRect().top;\r\n        \r\n        for (let elem of wrapper.children) {\r\n            if (elem.textContent == scrollContent) scrollElem = elem;  \r\n        }\r\n        wrapperTop = wrapper.getBoundingClientRect().top;\r\n        let scrollElemTop = scrollElem.getBoundingClientRect().top;\r\n        wrapper.scrollTo(0, scrollElemTop-wrapperTop);\r\n        console.log(scrollElem,scrollElemTop-wrapperTop );\r\n    \r\n    }\r\n    return [wrapperTop, scrollElemTop];\r\n}\r\n\r\n    /* harmony default export */ var helpFuncs_setScrollTo = (setScrollTo);\n// CONCATENATED MODULE: ./src/js/helpFuncs/checkZero.js\nfunction checkZero(num) {\r\n    if ( (num + '').length == 1) return '0'+num;\r\n    else return num;\r\n  }\r\n  \r\n  /* harmony default export */ var helpFuncs_checkZero = (checkZero);\n// CONCATENATED MODULE: ./src/js/helpFuncs/hidePopUp.js\n\r\nfunction hidePopUp() {\r\n    [].forEach.call(arguments, ( elem => elem.classList.remove('show_popup')));\r\n    document.querySelector('.block_screen').remove();\r\n  }\r\n\r\n  /* harmony default export */ var helpFuncs_hidePopUp = (hidePopUp);\n// CONCATENATED MODULE: ./src/js/helpFuncs/createPopUpWindow.js\n\r\n\r\n// create modals\r\nfunction createPopUpWindow(popup) {\r\n    if (noOtherPopUp()) {\r\n        popup.classList.add('show_popup');\r\n        let blockScreen = document.createElement('div');\r\n        blockScreen.classList.add('block_screen');\r\n        blockScreen.addEventListener('click', () => helpFuncs_hidePopUp(popup));\r\n        document.body.append(blockScreen);\r\n    }\r\n}\r\n\r\n\r\n// check for other active modals\r\nfunction noOtherPopUp() {\r\n    let otherPopUps = document.querySelectorAll('.show_popup');\r\n    if (!otherPopUps.length) return true;\r\n}\r\n\r\n/* harmony default export */ var helpFuncs_createPopUpWindow = (createPopUpWindow);\n// CONCATENATED MODULE: ./src/js/helpFuncs/validateMinutesInput.js\nfunction validateMinutesInput(event) {\r\n    let input = event.target;\r\n    let inputText = event.key;\r\n    if ((isNaN(inputText) || event.keyCode == '32')\r\n      && event.key != 'Backspace'\r\n      && event.key != 'ArrowLeft'\r\n      && event.key != 'ArrowRight')\r\n      event.preventDefault();\r\n\r\n    if (input.value.length == '2') {\r\n      console.log(input.value[1]); \r\n      if ( event.key != 'Backspace'\r\n        && event.key != 'ArrowLeft'\r\n        && event.key != 'ArrowRight') {\r\n        input.value = `${input.value[1]}`;\r\n      }\r\n    };\r\n  }\r\n\r\n  /* harmony default export */ var helpFuncs_validateMinutesInput = (validateMinutesInput);\n// CONCATENATED MODULE: ./src/js/helpFuncs/validateDateInput.js\nlet months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];  \r\n  \r\nfunction validateDateInput(monthsSelect, daysSelect, hoursSelect, minsSelect) {\r\n    let days = daysSelect.textContent;\r\n    let monthsIndex = months.indexOf(monthsSelect.textContent);\r\n    let hours = hoursSelect.textContent;\r\n    let mins = minsSelect.textContent;\r\n\r\n    let timerDate = {\r\n        months: monthsIndex,\r\n        days: days,\r\n        hours: hours,\r\n        mins: mins\r\n    }\r\n\r\n    if (new Date(2019, +monthsIndex, +days, +hours, +mins).getTime() < Date.now()) {\r\n        alert ('Введите корректные значения даты');\r\n        return;\r\n    }\r\n    return timerDate;   \r\n}\r\n\r\n  /* harmony default export */ var helpFuncs_validateDateInput = (validateDateInput);\n// CONCATENATED MODULE: ./src/js/popUpWindow/mainPopUp.js\n // get access to storage\r\n // DateTimer\r\n // set scroll level for date lists\r\n // MinuteTimer\r\n // return 01 instead 1\r\n // hide modals\r\n // create modals\r\n // validate input for minute timer\r\n //validate input for date timer\r\n\r\nlet showPopUpDate = document.getElementById('timer_date');\r\nlet showPopUpMins = document.getElementById('timer_minutes');\r\nlet popupDate = document.getElementById('create_popup_date');\r\nlet popupMinutes = document.getElementById('create_popup_minutes');\r\nshowPopUpDate.onclick = () => helpFuncs_createPopUpWindow(popupDate);\r\nshowPopUpMins.onclick = () => helpFuncs_createPopUpWindow(popupMinutes);\r\n\r\nlet createButtonDateTimer = document.querySelector('#create_button_date_timer');\r\n\r\ncreateButtonDateTimer.onclick = () => {\r\n  let date = helpFuncs_validateDateInput(monthsSelect, daysSelect, hoursSelect, minsSelect);\r\n  if (date) {\r\n    startCreateDate(date);\r\n    helpFuncs_hidePopUp(popupDate);\r\n  }\r\n}\r\n\r\ncreateList(document.getElementById('days_options'), 1, 31);\r\ncreateList(document.getElementById('hours_options'), 0, 23);\r\ncreateList(document.getElementById('mins_options'), 0, 59);\r\n\r\nlet monthsSelect = document.getElementById('months_select')\r\nlet daysSelect = document.getElementById('days_select');\r\nlet hoursSelect = document.getElementById('hours_select');\r\nlet minsSelect = document.getElementById('mins_select');\r\n\r\nlet selects = document.querySelectorAll('.select');\r\nlet mainPopUp_options = document.querySelectorAll('.options');\r\n\r\nlet mainPopUp_months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\r\n\r\nsetSelectNames();\r\nsetListeners();\r\n\r\n// set default date on timer's selects\r\nfunction setSelectNames() { \r\n  let date = new Date();\r\n  monthsSelect.textContent = mainPopUp_months[date.getMonth()];\r\n  daysSelect.textContent = helpFuncs_checkZero(date.getDate());\r\n  hoursSelect.textContent = helpFuncs_checkZero(date.getHours()+1);\r\n  minsSelect.textContent = '00';\r\n}\r\n\r\n// set toggle logic of selects\r\nfunction setListeners() {\r\n    let date = new Date();\r\n      selects.forEach( (elem, i) => {\r\n    elem.addEventListener('click', () => {\r\n        mainPopUp_options[i].classList.toggle('show');\r\n        console.log(mainPopUp_options[i].previousElementSibling);\r\n        helpFuncs_setScrollTo(mainPopUp_options[i], mainPopUp_options[i].previousElementSibling.textContent);\r\n    });\r\n  \r\n    mainPopUp_options[i].addEventListener('click', function(e) {\r\n         let target = e.target;\r\n         elem.textContent = target.textContent;\r\n         elem.classList.remove('show');\r\n       });\r\n  \r\n    document.addEventListener('click', e => {\r\n      if ( e.target != elem ) mainPopUp_options[i].classList.remove('show');\r\n    })\r\n  });\r\n}\r\n\r\n// create lists\r\nfunction createList(elem, from, to) {\r\n  for (let i = from; i <= to; i++) {\r\n    let appendElem = document.createElement('div');\r\n    appendElem.classList.add('option');\r\n    appendElem.textContent = helpFuncs_checkZero(i);\r\n    elem.append(appendElem);\r\n  }\r\n}\r\n\r\n\r\n  function startCreateDate(date) {\r\n\r\n    let timer = new js_timer(new Date(2019, date.months, date.days, date.hours, date.mins));\r\n    timer.generate();\r\n    timer.startCount();\r\n    timer.createSound(timer.sound);\r\n    storageCode.push(timer);\r\n    localStorage.setItem('timers', JSON.stringify(storageCode));\r\n  }\r\n\r\n  document.onkeydown = e => {\r\n    if (e.key == '1' && e.altKey && !popupDate.classList.contains('show_popup')) {\r\n      helpFuncs_createPopUpWindow(popupDate);\r\n    }\r\n    if (e.key == '2' && e.altKey && !popupMinutes.classList.contains('show_popup')) {\r\n      helpFuncs_createPopUpWindow(popupMinutes);\r\n    }\r\n    if (e.key == 'Escape') helpFuncs_hidePopUp(popupDate, popupMinutes);\r\n  }\r\n\r\n  document.getElementById('create_button_minute_timer').addEventListener('click', () => {\r\n    let secInput = document.querySelector('input[name=\"sec\"]');\r\n    if (+secInput.value >= 60) {\r\n      alert('Wrong seconds number');\r\n    }\r\n    else {\r\n      let timer = new timerMinutes(Date.now()+(+minutesInputs[0].value*60*1000)+(+minutesInputs[1].value*1000));\r\n      timer.generate();\r\n      timer.startCount();\r\n      timer.createSound(timer.sound);\r\n      storageCode.push(timer);\r\n      localStorage.setItem('timers', JSON.stringify(storageCode));\r\n      helpFuncs_hidePopUp(popupMinutes);\r\n    }\r\n  });\r\n\r\n\r\n  let minutesInputs = document.querySelectorAll('.input_popup');\r\n  minutesInputs.forEach( input => {\r\n    input.addEventListener('keydown', helpFuncs_validateMinutesInput);\r\n  });\r\n\r\n\r\n\n// EXTERNAL MODULE: ./src/js/navBlock/navBlock.js\nvar navBlock = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\n\r\n // needed for localStorage(save timers)\r\n // needed for popUp modals\r\n // top block animate when page scrolled\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9zb3VuZEJvYXJkL2F1ZGlvcy5qcz84OWJjIiwid2VicGFjazovLy8uL3NyYy9qcy9zb3VuZEJvYXJkL3NvdW5kLmpzPzY2YWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2hlbHBGdW5jcy9jcmVhdGVFbGVtLmpzPzBhNGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2hlbHBGdW5jcy9hcHBlbmRFbGVtcy5qcz85YTlkIiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwRnVuY3MvbWFrZVZpc2libGVTbW9vdGguanM/YzZlNiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaGVscEZ1bmNzL2NsYXNzTGlzdEFkZC5qcz83NjQ2Iiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwRnVuY3MvY2xhc3NMaXN0UmVtb3ZlLmpzPzhhZDYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3RpbWVyLmpzPzRhYmIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3RpbWVyTWludXRlcy5qcz82ZmNkIiwid2VicGFjazovLy8uL3NyYy9qcy9zdG9yYWdlU2F2ZS9zdG9yYWdlQ29kZS5qcz85M2FjIiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwRnVuY3Mvc2V0U2Nyb2xsVG8uanM/MWViYyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaGVscEZ1bmNzL2NoZWNrWmVyby5qcz9kNDBjIiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwRnVuY3MvaGlkZVBvcFVwLmpzPzY1NTYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2hlbHBGdW5jcy9jcmVhdGVQb3BVcFdpbmRvdy5qcz80NjE1Iiwid2VicGFjazovLy8uL3NyYy9qcy9oZWxwRnVuY3MvdmFsaWRhdGVNaW51dGVzSW5wdXQuanM/MzliZiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaGVscEZ1bmNzL3ZhbGlkYXRlRGF0ZUlucHV0LmpzPzk5MzUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3BvcFVwV2luZG93L21haW5Qb3BVcC5qcz9jODc1Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5sZXQgYXVkaW9zID0ge1xyXG4gICAgZGVmYXVsdFN0YXR1czoge1xyXG4gICAgICBuYW1lOiAn0JHQtdC3INCX0LLRg9C60LAnLFxyXG4gICAgICBzcmM6ICcnXHJcbiAgICB9LFxyXG4gICAgaXBob25lQWxhcm06IHtcclxuICAgICAgbmFtZTogJ2lQaG9uZSBNZWxvZHknLFxyXG4gICAgICBzcmM6ICdodHRwOi8vZC56YWl4LnJ1L2NzTWQubXAzJ1xyXG4gICAgfSxcclxuICAgIGFuZHJvaWRBbGFybToge1xyXG4gICAgICBuYW1lOiAnQW5kcm9pZCBNZWxvZHknLFxyXG4gICAgICBzcmM6ICdodHRwOi8vZC56YWl4LnJ1L2NzTWQubXAzJyAgICBcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgbGV0IGF1ZGlvc0NvdW50ID0gMztcclxuXHJcbmNvbnN0IGF1ZGlvc09iaiA9ICB7XHJcbiAgICBhdWRpb3M6IGF1ZGlvcyxcclxuICAgIGF1ZGlvc0NvdW50OiBhdWRpb3NDb3VudFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhdWRpb3NPYmo7IiwiaW1wb3J0IGF1ZGlvc09iaiBmcm9tICcuL2F1ZGlvcyc7XHJcbmltcG9ydCBzdG9yYWdlQXJyYXkgZnJvbSAnLi4vc3RvcmFnZVNhdmUvc3RvcmFnZUNvZGUnO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlU3RvcmFnZUFycmF5KCkge1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aW1lcnMnLCBKU09OLnN0cmluZ2lmeShzdG9yYWdlQXJyYXkpKTtcclxufVxyXG5cclxuY2xhc3MgU291bmQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuc291bmRTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnNvdW5kQm9hcmQgPSB0aGlzLmdlbmVyYXRlU291bmRCb2FyZCgpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2VuZXJhdGVTb3VuZEJvYXJkKCkge1xyXG4gICAgICBsZXQgc291bmRCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGxldCBvcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHNvdW5kQm9hcmQuY2xhc3NMaXN0LmFkZCgnc291bmRfd3JhcHBlcicpO1xyXG4gICAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZCgnc291bmRfc2VsZWN0Jyk7XHJcbiAgICAgIG9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnc291bmRfb3B0aW9ucycpXHJcbiAgICAgIG9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnb2ZmU2Nyb2xsWScpO1xyXG4gICAgICBvcHRpb25zLnN0eWxlLmhlaWdodCA9IGF1ZGlvc09iai5hdWRpb3NDb3VudCozMSsncHgnO1xyXG4gICAgICBzb3VuZEJvYXJkLmFwcGVuZChzZWxlY3QpO1xyXG4gICAgICBzb3VuZEJvYXJkLmFwcGVuZChvcHRpb25zKTtcclxuICAgICAgY3JlYXRlT3B0aW9uc0xpc3QuY2FsbCh0aGlzKTtcclxuICAgICAgc2V0TGlzdGVuZXJzcy5jYWxsKHRoaXMpO1xyXG4gIFxyXG4gICAgICByZXR1cm4gc291bmRCb2FyZDtcclxuICAgICAgXHJcbiAgICAgIC8vIGNyZWF0ZSBsaXN0IG9mIHNvbmdzIGZyb20gJ2F1ZGlvcycgXHJcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnNMaXN0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zb3VuZFNlbGVjdGVkKSBzZWxlY3QudGV4dENvbnRlbnQgPSBhdWRpb3NPYmouYXVkaW9zWydkZWZhdWx0U3RhdHVzJ11bJ25hbWUnXTtcclxuICAgICAgICBlbHNlIHNlbGVjdC50ZXh0Q29udGVudCA9IHRoaXMuc291bmRTZWxlY3RlZDtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gYXVkaW9zT2JqLmF1ZGlvcyl7XHJcbiAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnc291bmRfb3B0aW9uJyk7XHJcbiAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBhdWRpb3NPYmouYXVkaW9zW2tleV0ubmFtZTtcclxuICAgICAgICAgIG9wdGlvbnMuYXBwZW5kKG9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGZ1bmN0aW9uIHNldExpc3RlbmVyc3MoKSB7XHJcbiAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zb3VuZEJvYXJkLmNsb3Nlc3QoJy50aW1lcicpLmNsYXNzTGlzdC50b2dnbGUoJ3pfaW5kZXgnKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xyXG4gICAgICAgICAgb3B0aW9ucy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93X2F1ZGlvcycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9wdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgIHNlbGVjdC50ZXh0Q29udGVudCA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgdGhpcy5zb3VuZFNlbGVjdGVkID0gc2VsZWN0LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgdXBkYXRlU3RvcmFnZUFycmF5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgIGlmIChlLnRhcmdldCAhPSBzZWxlY3QpIHRoaXMuc291bmRCb2FyZC5jbG9zZXN0KCcudGltZXInKS5jbGFzc0xpc3QucmVtb3ZlKCd6X2luZGV4Jyk7XHJcbiAgICAgICAgICBpZiAoZS50YXJnZXQgIT0gc2VsZWN0KSBvcHRpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3dfYXVkaW9zJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGRlZmF1bHQgU291bmQ7IiwiZnVuY3Rpb24gY3JlYXRlRWxlbSh0YWcsIHRleHRDb250ZW50LCBjbGFzc0xpc3QsIGxpc3RlbmVycykge1xyXG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICBpZiAodGV4dENvbnRlbnQpIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcclxuICAgIGlmIChjbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0xpc3QpO1xyXG4gICAgaWYgKGxpc3RlbmVycykgZm9yIChsZXQga2V5IGluIGxpc3RlbmVycykge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihrZXksIGxpc3RlbmVyc1trZXldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFbGVtOyIsImZ1bmN0aW9uIGFwcGVuZEVsZW1zKHRhcmdldCkge1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgKGVsZW0sIGkpID0+IHtcclxuICAgICAgICBpZiAoaSA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgdGFyZ2V0LmFwcGVuZChlbGVtKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHBlbmRFbGVtczsiLCJmdW5jdGlvbiBtYWtlVmlzaWJsZSgpIHtcclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBlbGVtID0+IHtcclxuICAgICAgICAgICAgZWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYWtlVmlzaWJsZTtcclxuXHJcbiIsImZ1bmN0aW9uIGNsYXNzTGlzdEFkZCgpIHtcclxuICAgIFtdLmZvckVhY2guY2FsbChhcmd1bWVudHMsIChlbGVtLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKCFpKSByZXR1cm47XHJcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGFyZ3VtZW50c1swXSk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzc0xpc3RBZGQ7IiwiZnVuY3Rpb24gY2xhc3NMaXN0UmVtb3ZlKCkge1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgKGVsZW0sIGkpID0+IHtcclxuICAgICAgICBpZiAoIWkpIHJldHVybjtcclxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoYXJndW1lbnRzWzBdKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzTGlzdFJlbW92ZTsiLCJpbXBvcnQgU291bmQgZnJvbSAnLi9zb3VuZEJvYXJkL3NvdW5kJztcclxuaW1wb3J0IGF1ZGlvc09iaiBmcm9tICcuLy9zb3VuZEJvYXJkL2F1ZGlvcyc7XHJcbmltcG9ydCBzdG9yYWdlQXJyYXkgZnJvbSAnLi9zdG9yYWdlU2F2ZS9zdG9yYWdlQ29kZSc7XHJcbmltcG9ydCBjcmVhdGVFbGVtIGZyb20gJy4vaGVscEZ1bmNzL2NyZWF0ZUVsZW0nO1xyXG5pbXBvcnQgYXBwZW5kRWxlbXMgZnJvbSAnLi9oZWxwRnVuY3MvYXBwZW5kRWxlbXMnO1xyXG5pbXBvcnQgbWFrZVZpc2libGUgZnJvbSAnLi9oZWxwRnVuY3MvbWFrZVZpc2libGVTbW9vdGgnO1xyXG5pbXBvcnQgY2xhc3NMaXN0QWRkIGZyb20gJy4vaGVscEZ1bmNzL2NsYXNzTGlzdEFkZCc7XHJcbmltcG9ydCBjbGFzc0xpc3RSZW1vdmUgZnJvbSAnLi9oZWxwRnVuY3MvY2xhc3NMaXN0UmVtb3ZlJztcclxuXHJcblxyXG5jbGFzcyBEYXRlVGltZXIge1xyXG4gICAgY29uc3RydWN0b3IoZGF0ZSl7XHJcbiAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgdGhpcy5lbmQgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbCA9IDA7XHJcbiAgICAgIHRoaXMudGltZXJEaXY7XHJcbiAgICAgIHRoaXMuc291bmQ7XHJcbiAgICAgIHRoaXMudGltZXJDbGFzcyA9ICdkYXRlJztcclxuICAgIH1cclxuICBcclxuICAgIGdlbmVyYXRlKCkge1xyXG4gICAgICB0aGlzLnRpbWVyRGl2ID0gY3JlYXRlRWxlbSgnZGl2JywgJycsICd0aW1lcicpO1xyXG4gICAgICB0aGlzLmJ1dHRvblN0b3AgPSBjcmVhdGVFbGVtKCdidXR0b24nLCAnU1RPUCcsICdzdG9wX2J1dHRvbicsIHtjbGljazogKCk9PnRoaXMucGF1c2VDb3VudCgpfSk7XHJcbiAgICAgIHRoaXMuYnV0dG9uU3RhcnQgPSBjcmVhdGVFbGVtKCdidXR0b24nLCAnU1RBUlQnLCAnc3RhcnRfYnV0dG9uJywge2NsaWNrOiAoKT0+dGhpcy5zdGFydENvdW50KCl9KTtcclxuICAgICAgdGhpcy5idXR0b25EZWxldGUgPSBjcmVhdGVFbGVtKCdidXR0b24nLCAnREVMRVRFJywgJ2RlbGV0ZV9idXR0b24nLCB7Y2xpY2s6ICgpPT50aGlzLmRlbGV0ZVRpbWVyKCl9KTtcclxuICAgICAgdGhpcy5tb250aHMgPSBjcmVhdGVFbGVtKCdkaXYnLCAnJywgJ2NvdW50ZXJfcG9pbnQnKTtcclxuICAgICAgdGhpcy5kYXlzID0gY3JlYXRlRWxlbSgnZGl2JywgJycsICdjb3VudGVyX3BvaW50Jyk7XHJcbiAgICAgIHRoaXMuaG91cnMgPSBjcmVhdGVFbGVtKCdkaXYnLCAnJywgJ2NvdW50ZXJfcG9pbnQnKTtcclxuICAgICAgdGhpcy5taW51dGVzID0gY3JlYXRlRWxlbSgnZGl2JywgJycsICdjb3VudGVyX3BvaW50Jyk7XHJcbiAgICAgIHRoaXMuc2Vjb25kcyA9IGNyZWF0ZUVsZW0oJ2RpdicsICcnLCAnY291bnRlcl9wb2ludCcpO1xyXG4gICAgICB0aGlzLm1pbGkgPSBjcmVhdGVFbGVtKCdkaXYnLCAnJywgJ2NvdW50ZXJfcG9pbnQnKTtcclxuXHJcbiAgICAgIGxldCBjaGFuZ2VPcmRlclVwID0gY3JlYXRlRWxlbSgnZGl2JywgJycsICdjaGFuZ2Vfb3JkZXJfdXAnLCB7Y2xpY2s6ICgpPT4gdGhpcy5jaGFuZ2VPcmRlclVwKCl9KTtcclxuICAgICAgbGV0IGNoYW5nZU9yZGVyRG93biA9IGNyZWF0ZUVsZW0oJ2RpdicsICcnLCAnY2hhbmdlX29yZGVyX2Rvd24nLCB7Y2xpY2s6ICgpPT4gdGhpcy5jaGFuZ2VPcmRlckRvd24oKX0pO1xyXG5cclxuICAgICAgdGhpcy5kZXN0cm95VGltZXIgPSBjcmVhdGVFbGVtKCdkaXYnLCAnJywgJ2Rlc3Ryb3lfdGltZXInKTtcclxuICAgICAgdGhpcy5kZXN0cm95VGltZXJJbnRlcmFjdCA9IGNyZWF0ZUVsZW0oJ2RpdicsICcnLCAnZGVzdHJveV90aW1lcl9pbnRlcmFjdCcsIHtjbGljazogKCkgPT4gdGhpcy5kZWxldGVUaW1lcigpfSk7XHJcbiAgICAgIGxldCBkZXN0cm95TWFyayA9IGNyZWF0ZUVsZW0oJ2RpdicsICcnLCAnZGVzdHJveV90aW1lcl9tYXJrJyk7XHJcbiAgICAgIHRoaXMuZGVzdHJveVRpbWVySW50ZXJhY3QuYXBwZW5kKGRlc3Ryb3lNYXJrKTtcclxuICAgICAgbGV0IGRlc3Ryb3lUZXh0ID0gY3JlYXRlRWxlbSgnYnV0dG9uJywgJ0RFU1RST1kgVElNRVInLCAnZGVzdHJveV9idXR0b24nKTtcclxuICAgICAgdGhpcy5kZXN0cm95VGltZXJJbnRlcmFjdC5hcHBlbmQoZGVzdHJveVRleHQpO1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgIHRoaXMudGltZXJDb3VudGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLmJ1dHRvbnNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMubW9udGhzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIFxyXG4gICAgICB0aGlzLmNvdW50ZXJQb2ludHMgPSBbdGhpcy5tb250aHMsIHRoaXMuZGF5cywgdGhpcy5ob3VycywgdGhpcy5taW51dGVzLCB0aGlzLnNlY29uZHMsIHRoaXMubWlsaV07XHJcbiAgICAgIHRoaXMuY291bnRlclBvaW50c05hbWVzID0gWydtb250aHMnLCAnZGF5cycsICdob3VycycsICdtaW51dGVzJywgJ3NlY29uZHMnLCAnbWlsaXNlY29uZHMnXTtcclxuICAgICAgdGhpcy50aW1lckNvdW50ZXJzLmNsYXNzTGlzdC5hZGQoJ3RpbWVyX2NvdW50ZXJzJyk7XHJcbiAgICAgIHRoaXMuYnV0dG9uc1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnYnV0dG9uc193cmFwcGVyJyk7XHJcbiAgXHJcbiAgXHJcbiAgICAgIHRoaXMudGltZXJEaXYuY2xhc3NMaXN0LmFkZCgnemVyb19vcGFjaXR5Jyk7XHJcbiAgICAgIGFwcGVuZEVsZW1zKHRoaXMudGltZXJEaXYsIHRoaXMudGltZXJDb3VudGVycywgdGhpcy5idXR0b25zV3JhcHBlciwgdGhpcy5kZXN0cm95VGltZXIsIHRoaXMuZGVzdHJveVRpbWVySW50ZXJhY3QsIGNoYW5nZU9yZGVyVXAsIGNoYW5nZU9yZGVyRG93bik7XHJcbiAgICAgIGFwcGVuZEVsZW1zKHRoaXMudGltZXJDb3VudGVycywgdGhpcy5tb250aHMsIHRoaXMuZGF5cywgdGhpcy5ob3VycywgdGhpcy5taW51dGVzLCB0aGlzLnNlY29uZHMsIHRoaXMubWlsaSk7XHJcbiAgICAgIGlmICh0aGlzLnRpbWVyQ2xhc3MgPT0gJ21pbnV0ZXMnKSBhcHBlbmRFbGVtcyh0aGlzLmJ1dHRvbnNXcmFwcGVyLCB0aGlzLmJ1dHRvblN0YXJ0LCB0aGlzLmJ1dHRvblN0b3ApO1xyXG4gICAgICBhcHBlbmRFbGVtcyh0aGlzLmJ1dHRvbnNXcmFwcGVyLCB0aGlzLmJ1dHRvbkRlbGV0ZSk7XHJcblxyXG5cclxuICAgICAgLy8vLy9cclxuICBcclxuICAgICAgdGhpcy5jb3VudGVyUG9pbnRzLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBhdXNlQ291bnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIC8vLy9cclxuICBcclxuICBcclxuICAgICAgY3JlYXRlV3JhcHBlcnNGb3JDb3VudGVyUG9pbnRzLmNhbGwodGhpcyk7XHJcbiAgXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMudGltZXJEaXYsIGRvY3VtZW50LmJvZHkuY2hpbGRyZW5bMl0pO1xyXG4gICAgXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudGltZXJEaXYuY2xhc3NMaXN0LnJlbW92ZSgnemVyb19vcGFjaXR5Jyk7XHJcbiAgICAgICAgdGhpcy50aW1lckRpdi5jbGFzc0xpc3QuYWRkKCdmdWxsX29wYWNpdHknKTtcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXJzRm9yQ291bnRlclBvaW50cygpIHtcclxuICAgICAgICB0aGlzLmNvdW50ZXJQb2ludHMuZm9yRWFjaCggKGVsZW0sIGkpID0+IHtcclxuICAgICAgICAgIGxldCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBsZXQgYm90dG9tVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgIGJvdHRvbVRleHQudGV4dENvbnRlbnQgPSB0aGlzLmNvdW50ZXJQb2ludHNOYW1lc1tpXTtcclxuICAgICAgICAgIGJvdHRvbVRleHQuY2xhc3NMaXN0LmFkZCgnY291bnRlcl9wb2ludF9ib3R0b21fdGV4dCcpXHJcbiAgICAgICAgICB3cmFwcGVyLmFwcGVuZChlbGVtKTtcclxuICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKGJvdHRvbVRleHQpO1xyXG4gICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdjb3VudGVyX3BvaW50X3dyYXBwZXInKTtcclxuICAgICAgICAgIHRoaXMudGltZXJDb3VudGVycy5hcHBlbmQod3JhcHBlcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIH1cclxuICBcclxuICAgIGNyZWF0ZVNvdW5kKHNvbmcpIHtcclxuICAgICAgaWYgKHNvbmcpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLl9fcHJvdG9fXyA9IFNvdW5kLnByb3RvdHlwZTtcclxuICAgICAgICB0aGlzLnNvdW5kLnNvdW5kQm9hcmQgPSB0aGlzLnNvdW5kLmdlbmVyYXRlU291bmRCb2FyZCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgdGhpcy5zb3VuZCA9IG5ldyBTb3VuZCgpO1xyXG4gICAgICB0aGlzLmJ1dHRvbnNXcmFwcGVyLmFwcGVuZCh0aGlzLnNvdW5kLnNvdW5kQm9hcmQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdGFydENvdW50KHJlYm9vdGVkKSB7XHJcbiAgICAgIGlmICghdGhpcy5pbnRlcnZhbCAmJiB0aGlzLmVuZCAtIERhdGUubm93KCkgPiAwKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudXBkYXRlVGltZS5iaW5kKHRoaXMpLDg4KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBpZiAocmVib290ZWQpIHtcclxuICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lLmJpbmQodGhpcyksODgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIFxyXG4gIFxyXG4gICAgcGF1c2VDb3VudCgpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbCA9IDA7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkZWxldGVUaW1lcigpIHtcclxuICAgICAgdGhpcy5wYXVzZUNvdW50KCk7XHJcbiAgICAgIHRoaXMudGltZXJEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRpbWVyRGl2KTtcclxuICAgICAgaWYgKHRoaXMuYWxlcnRBdWRpbykgdGhpcy5hbGVydEF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgIHN0b3JhZ2VBcnJheS5mb3JFYWNoICggKGVsZW0sIGkpID0+IHtcclxuICAgICAgICBpZiAodGhpcyA9PSBlbGVtKSBkZWxldGVGcm9tQXJyYXkoaSk7XHJcbiAgICAgIH0pXHJcbiAgXHJcbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUZyb21BcnJheShpKSB7XHJcbiAgICAgICAgc3RvcmFnZUFycmF5LnNwbGljZShpLDEpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aW1lcnMnLCBKU09OLnN0cmluZ2lmeShzdG9yYWdlQXJyYXkpKTsgICAgICBcclxuICAgICAgfVxyXG4gICAgfSBcclxuICBcclxuICAgIGVuZEFsZXJ0KCkge1xyXG4gICAgICBsZXQgYWxlcnRBdWRpbyA9IG5ldyBBdWRpbygpO1xyXG4gICAgICAgICAgbGV0IHNvdW5kU2VsZWN0ZWQgPSB0aGlzLnNvdW5kLnNvdW5kU2VsZWN0ZWQ7XHJcbiAgICAgIGZvciAobGV0IGtleSBpbiBhdWRpb3NPYmouYXVkaW9zKSB7XHJcbiAgICAgICAgaWYgKGF1ZGlvc09iai5hdWRpb3Nba2V5XVsnbmFtZSddID09IHNvdW5kU2VsZWN0ZWQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYWxlcnRBdWRpbyk7XHJcbiAgICAgICAgICBhbGVydEF1ZGlvLnNyYyA9IGF1ZGlvc09iai5hdWRpb3Nba2V5XVsnc3JjJ107XHJcbiAgICAgICAgICBhbGVydEF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgIHRoaXMuYWxlcnRBdWRpbyA9IGFsZXJ0QXVkaW87XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG1ha2VWaXNpYmxlKHRoaXMuZGVzdHJveVRpbWVyLCB0aGlzLmRlc3Ryb3lUaW1lckludGVyYWN0KTtcclxuICAgIH1cclxuICBcclxuICAgIHVwZGF0ZVRpbWUoKSB7XHJcbiAgICAgIGxldCB0ZW1wID0gdGhpcy5lbmQgLSBEYXRlLm5vdygpXHJcbiAgXHJcbiAgICAgIGlmICh0ZW1wIDwgMCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VDb3VudCgpO1xyXG4gICAgICAgIGRyYXdUaW1lLmNhbGwodGhpcywgJzAwJywnMDAnLCcwMCcsJzAwJywnMDAnLCcwMCcpO1xyXG4gICAgICAgIHRoaXMuZW5kQWxlcnQoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgbGV0IG1vbnRocyA9IE1hdGguZmxvb3IodGVtcCAvIDI1OTIwMDAwMDApO1xyXG4gICAgICBsZXQgZGF5cyA9IE1hdGguZmxvb3IoKHRlbXAgLSAoMjU5MjAwMDAwMCAqIG1vbnRocykpIC8gODY0MDAwMDApO1xyXG4gICAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKCh0ZW1wIC0gKDI1OTIwMDAwMDAgKiBtb250aHMpIC0gODY0MDAwMDAgKiBkYXlzKSAvICgxMDAwKjM2MDApKTtcclxuICAgICAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0ZW1wIC0gKDI1OTIwMDAwMDAgKiBtb250aHMpIC0gKDg2NDAwMDAwICogZGF5cykgLSAoMTAwMCAqIDM2MDAgKiBob3VycykpIC8gKDEwMDAgKiA2MCkpO1xyXG4gICAgICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IoKCh0ZW1wIC0gKDI1OTIwMDAwMDAgKiBtb250aHMpIC0gKDg2NDAwMDAwICogZGF5cykgLSAoMTAwMCAqIDM2MDAgKiBob3VycykgLSAoMTAwMCAqIDYwICogbWludXRlcykpIC8gMTAwMCkpO1xyXG4gICAgICBsZXQgbWlsaSA9IE1hdGguZmxvb3IoKHRlbXAgLSAoMjU5MjAwMDAwMCAqIG1vbnRocykgLSAoODY0MDAwMDAgKiBkYXlzKSAtICgxMDAwICogMzYwMCAqIGhvdXJzKSAtICgxMDAwICogNjAgKiBtaW51dGVzKSAtICgxMDAwICogc2Vjb25kcykpIC8gMTApO1xyXG4gIFxyXG4gICAgICBsZXQgZml4WmVybyA9IHZhbGlkYXRlT3V0cHV0KG1vbnRocywgZGF5cywgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGkpO1xyXG4gICAgICBkcmF3VGltZS5hcHBseSh0aGlzLCBbLi4uZml4WmVyb10pO1xyXG4gIFxyXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZU91dHB1dCgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICgoJycrYXJndW1lbnRzW2ldKS5sZW5ndGggPT0gMSkgcmVzdWx0LnB1c2goJzAnK2FyZ3VtZW50c1tpXSk7XHJcbiAgICAgICAgICBlbHNlIHJlc3VsdC5wdXNoKGFyZ3VtZW50c1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgZnVuY3Rpb24gZHJhd1RpbWUoKSB7XHJcbiAgICAgICAgbGV0IG1vbnRocyA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICBsZXQgZGF5cyA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICBsZXQgaG91cnMgPSBhcmd1bWVudHNbMl07XHJcbiAgICAgICAgbGV0IG1pbnV0ZXMgPSBhcmd1bWVudHNbM107XHJcbiAgICAgICAgbGV0IHNlY29uZHMgPSBhcmd1bWVudHNbNF07XHJcbiAgICAgICAgbGV0IG1pbGkgPSBhcmd1bWVudHNbNV07XHJcbiAgICAgICAgdGhpcy5tb250aHMudGV4dENvbnRlbnQgPSBtb250aHM7XHJcbiAgICAgICAgdGhpcy5kYXlzLnRleHRDb250ZW50ID0gZGF5cztcclxuICAgICAgICB0aGlzLmhvdXJzLnRleHRDb250ZW50ID0gaG91cnM7XHJcbiAgICAgICAgdGhpcy5taW51dGVzLnRleHRDb250ZW50ID0gbWludXRlcztcclxuICAgICAgICB0aGlzLnNlY29uZHMudGV4dENvbnRlbnQgPSBzZWNvbmRzO1xyXG4gICAgICAgIHRoaXMubWlsaS50ZXh0Q29udGVudCA9IG1pbGkrJyc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VPcmRlclVwKCkge1xyXG4gICAgICBpZiAodGhpcy50aW1lckRpdi5wcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aW1lcicpKSB7XHJcbiAgICAgICAgY2xhc3NMaXN0QWRkKCd6ZXJvX29wYWNpdHknLCB0aGlzLnRpbWVyRGl2LCB0aGlzLnRpbWVyRGl2LnByZXZpb3VzU2libGluZyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLnRpbWVyRGl2LCB0aGlzLnRpbWVyRGl2LnByZXZpb3VzU2libGluZyk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0UmVtb3ZlKCd6ZXJvX29wYWNpdHknLCB0aGlzLnRpbWVyRGl2LCB0aGlzLnRpbWVyRGl2Lm5leHRTaWJsaW5nKTtcclxuICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlT3JkZXJEb3duKCkge1xyXG4gICAgICBpZiAodGhpcy50aW1lckRpdi5uZXh0U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3RpbWVyJykpIHtcclxuICAgICAgICBjbGFzc0xpc3RBZGQoJ3plcm9fb3BhY2l0eScsIHRoaXMudGltZXJEaXYsIHRoaXMudGltZXJEaXYubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodGhpcy50aW1lckRpdiwgdGhpcy50aW1lckRpdi5uZXh0U2libGluZy5uZXh0U2libGluZyk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2xhc3NMaXN0UmVtb3ZlKCd6ZXJvX29wYWNpdHknLCB0aGlzLnRpbWVyRGl2LCB0aGlzLnRpbWVyRGl2LnByZXZpb3VzU2libGluZyk7XHJcbiAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBleHBvcnQgZGVmYXVsdCBEYXRlVGltZXI7IiwiaW1wb3J0IHN0b3JhZ2VBcnJheSBmcm9tICcuL3N0b3JhZ2VTYXZlL3N0b3JhZ2VDb2RlJztcclxuaW1wb3J0IERhdGVUaW1lciBmcm9tICcuL3RpbWVyJztcclxuaW1wb3J0IGNyZWF0ZUVsZW0gZnJvbSAnLi9oZWxwRnVuY3MvY3JlYXRlRWxlbSc7XHJcbmltcG9ydCBhcHBlbmRFbGVtcyBmcm9tICcuL2hlbHBGdW5jcy9hcHBlbmRFbGVtcyc7XHJcblxyXG5cclxuY2xhc3MgTWludXRlVGltZXIgZXh0ZW5kcyBEYXRlVGltZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRlKSB7XHJcbiAgICAgICAgc3VwZXIoZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5lbmQgPSBkYXRlO1xyXG4gICAgICAgIHRoaXMudGltZVRvRW5kO1xyXG4gICAgICAgIHRoaXMudGltZXJQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVyQ2xhc3MgPSAnbWludXRlcyc7XHJcbiAgICB9XHJcblxyXG4gICAgICAgIHN0YXJ0Q291bnQocmVib290ZWQpIHtcclxuICAgICAgICAgIGlmICh0aGlzLnRpbWVUb0VuZCAmJiB0aGlzLnRpbWVyUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gRGF0ZS5ub3coKSArIHRoaXMudGltZVRvRW5kO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAgIHRoaXMudGltZXJQYXVzZWQgPSBmYWxzZTsgICBcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmludGVydmFsICYmIHRoaXMuZW5kIC0gRGF0ZS5ub3coKSA+IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWUoKTtcclxuICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lLmJpbmQodGhpcyksODgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChyZWJvb3RlZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWUuYmluZCh0aGlzKSw4OCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdXBkYXRlU3RvcmFnZUFycmF5KCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXVzZUNvdW50KCkge1xyXG4gICAgICAgICAgdGhpcy50aW1lclBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVRvRW5kID0gdGhpcy5lbmQgLSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gMDtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdXBkYXRlU3RvcmFnZUFycmF5KCk7XHJcbiAgICAgICAgICAgIH0sIDApOztcclxuICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTdG9yYWdlQXJyYXkoKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aW1lcnMnLCBKU09OLnN0cmluZ2lmeShzdG9yYWdlQXJyYXkpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IE1pbnV0ZVRpbWVyOyIsImltcG9ydCBEYXRlVGltZXIgZnJvbSAnLi4vdGltZXInXHJcbmltcG9ydCBNaW51dGVUaW1lciBmcm9tICcuLi90aW1lck1pbnV0ZXMnXHJcbmltcG9ydCBTb3VuZCBmcm9tICcuLi9zb3VuZEJvYXJkL3NvdW5kJztcclxuXHJcbmZ1bmN0aW9uIGNoZWNrU3RvcmFnZSgpIHtcclxuICAgIGxldCB0aW1lcnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGltZXJzJyk7XHJcbiAgICBpZiAoIXRpbWVycykgcmV0dXJuICcnO1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGltZXJzKTtcclxuICB9XHJcbiAgXHJcbiAgbGV0IHN0b3JhZ2VBcnJheSA9IGNoZWNrU3RvcmFnZSgpIHx8IFtdO1xyXG4gIHN0b3JhZ2VBcnJheS5mb3JFYWNoKCB0aW1lciA9PiB7XHJcbiAgICBpZiAodGltZXIudGltZXJDbGFzcyA9PSAnZGF0ZScpIHRpbWVyLl9fcHJvdG9fXyA9IERhdGVUaW1lci5wcm90b3R5cGU7XHJcbiAgICBpZiAodGltZXIudGltZXJDbGFzcyA9PSAnbWludXRlcycpIHRpbWVyLl9fcHJvdG9fXyA9IE1pbnV0ZVRpbWVyLnByb3RvdHlwZTtcclxuICAgIHRpbWVyLmdlbmVyYXRlKCk7XHJcbiAgICBpZiAoIXRpbWVyLnRpbWVyUGF1c2VkKSB0aW1lci5zdGFydENvdW50KHRydWUpO1xyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRpbWVyLnN0YXJ0Q291bnQoKTtcclxuICAgICAgdGltZXIudXBkYXRlVGltZSgpO1xyXG4gICAgICB0aW1lci5wYXVzZUNvdW50KCk7XHJcbiAgICB9O1xyXG4gICAgdGltZXIuc291bmQuX19wcm90b19fID0gU291bmQucHJvdG90eXBlO1xyXG4gICAgdGltZXIuY3JlYXRlU291bmQodGltZXIuc291bmQpO1xyXG4gIH0pO1xyXG5cclxuICBleHBvcnQgZGVmYXVsdCBzdG9yYWdlQXJyYXk7XHJcbiAgIiwiZnVuY3Rpb24gc2V0U2Nyb2xsVG8od3JhcHBlciwgc2Nyb2xsQ29udGVudCkge1xyXG5sZXQgd3JhcHBlclRvcCwgc2Nyb2xsRWxlbSwgc2Nyb2xsRWxlbVRvcDtcclxuICAgIHdyYXBwZXIuc2Nyb2xsVG8oMCwwKTtcclxuICAgIGlmICh3cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XHJcbiAgICAgICAgd3JhcHBlclRvcCA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAobGV0IGVsZW0gb2Ygd3JhcHBlci5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZWxlbS50ZXh0Q29udGVudCA9PSBzY3JvbGxDb250ZW50KSBzY3JvbGxFbGVtID0gZWxlbTsgIFxyXG4gICAgICAgIH1cclxuICAgICAgICB3cmFwcGVyVG9wID0gd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgbGV0IHNjcm9sbEVsZW1Ub3AgPSBzY3JvbGxFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB3cmFwcGVyLnNjcm9sbFRvKDAsIHNjcm9sbEVsZW1Ub3Atd3JhcHBlclRvcCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc2Nyb2xsRWxlbSxzY3JvbGxFbGVtVG9wLXdyYXBwZXJUb3AgKTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFt3cmFwcGVyVG9wLCBzY3JvbGxFbGVtVG9wXTtcclxufVxyXG5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHNldFNjcm9sbFRvOyIsImZ1bmN0aW9uIGNoZWNrWmVybyhudW0pIHtcclxuICAgIGlmICggKG51bSArICcnKS5sZW5ndGggPT0gMSkgcmV0dXJuICcwJytudW07XHJcbiAgICBlbHNlIHJldHVybiBudW07XHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBkZWZhdWx0IGNoZWNrWmVybzsiLCJcclxuZnVuY3Rpb24gaGlkZVBvcFVwKCkge1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgKCBlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvd19wb3B1cCcpKSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmxvY2tfc2NyZWVuJykucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZGVmYXVsdCBoaWRlUG9wVXA7IiwiaW1wb3J0IGhpZGVQb3BVcCBmcm9tICcuL2hpZGVQb3BVcCc7XHJcblxyXG4vLyBjcmVhdGUgbW9kYWxzXHJcbmZ1bmN0aW9uIGNyZWF0ZVBvcFVwV2luZG93KHBvcHVwKSB7XHJcbiAgICBpZiAobm9PdGhlclBvcFVwKCkpIHtcclxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdzaG93X3BvcHVwJyk7XHJcbiAgICAgICAgbGV0IGJsb2NrU2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYmxvY2tTY3JlZW4uY2xhc3NMaXN0LmFkZCgnYmxvY2tfc2NyZWVuJyk7XHJcbiAgICAgICAgYmxvY2tTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoaWRlUG9wVXAocG9wdXApKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChibG9ja1NjcmVlbik7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBjaGVjayBmb3Igb3RoZXIgYWN0aXZlIG1vZGFsc1xyXG5mdW5jdGlvbiBub090aGVyUG9wVXAoKSB7XHJcbiAgICBsZXQgb3RoZXJQb3BVcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvd19wb3B1cCcpO1xyXG4gICAgaWYgKCFvdGhlclBvcFVwcy5sZW5ndGgpIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVQb3BVcFdpbmRvdzsiLCJmdW5jdGlvbiB2YWxpZGF0ZU1pbnV0ZXNJbnB1dChldmVudCkge1xyXG4gICAgbGV0IGlucHV0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgbGV0IGlucHV0VGV4dCA9IGV2ZW50LmtleTtcclxuICAgIGlmICgoaXNOYU4oaW5wdXRUZXh0KSB8fCBldmVudC5rZXlDb2RlID09ICczMicpXHJcbiAgICAgICYmIGV2ZW50LmtleSAhPSAnQmFja3NwYWNlJ1xyXG4gICAgICAmJiBldmVudC5rZXkgIT0gJ0Fycm93TGVmdCdcclxuICAgICAgJiYgZXZlbnQua2V5ICE9ICdBcnJvd1JpZ2h0JylcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoaW5wdXQudmFsdWUubGVuZ3RoID09ICcyJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhpbnB1dC52YWx1ZVsxXSk7IFxyXG4gICAgICBpZiAoIGV2ZW50LmtleSAhPSAnQmFja3NwYWNlJ1xyXG4gICAgICAgICYmIGV2ZW50LmtleSAhPSAnQXJyb3dMZWZ0J1xyXG4gICAgICAgICYmIGV2ZW50LmtleSAhPSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICBpbnB1dC52YWx1ZSA9IGAke2lucHV0LnZhbHVlWzFdfWA7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZGVmYXVsdCB2YWxpZGF0ZU1pbnV0ZXNJbnB1dDsiLCJsZXQgbW9udGhzID0gWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXTsgIFxyXG4gIFxyXG5mdW5jdGlvbiB2YWxpZGF0ZURhdGVJbnB1dChtb250aHNTZWxlY3QsIGRheXNTZWxlY3QsIGhvdXJzU2VsZWN0LCBtaW5zU2VsZWN0KSB7XHJcbiAgICBsZXQgZGF5cyA9IGRheXNTZWxlY3QudGV4dENvbnRlbnQ7XHJcbiAgICBsZXQgbW9udGhzSW5kZXggPSBtb250aHMuaW5kZXhPZihtb250aHNTZWxlY3QudGV4dENvbnRlbnQpO1xyXG4gICAgbGV0IGhvdXJzID0gaG91cnNTZWxlY3QudGV4dENvbnRlbnQ7XHJcbiAgICBsZXQgbWlucyA9IG1pbnNTZWxlY3QudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgbGV0IHRpbWVyRGF0ZSA9IHtcclxuICAgICAgICBtb250aHM6IG1vbnRoc0luZGV4LFxyXG4gICAgICAgIGRheXM6IGRheXMsXHJcbiAgICAgICAgaG91cnM6IGhvdXJzLFxyXG4gICAgICAgIG1pbnM6IG1pbnNcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmV3IERhdGUoMjAxOSwgK21vbnRoc0luZGV4LCArZGF5cywgK2hvdXJzLCArbWlucykuZ2V0VGltZSgpIDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICAgIGFsZXJ0ICgn0JLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0LUg0LfQvdCw0YfQtdC90LjRjyDQtNCw0YLRiycpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJldHVybiB0aW1lckRhdGU7ICAgXHJcbn1cclxuXHJcbiAgZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGVEYXRlSW5wdXQ7IiwiaW1wb3J0IHN0b3JhZ2VBcnJheSBmcm9tICcuLi9zdG9yYWdlU2F2ZS9zdG9yYWdlQ29kZSc7IC8vIGdldCBhY2Nlc3MgdG8gc3RvcmFnZVxyXG5pbXBvcnQgRGF0ZVRpbWVyIGZyb20gJy4uL3RpbWVyJzsgLy8gRGF0ZVRpbWVyXHJcbmltcG9ydCBzZXRTY3JvbGxUbyBmcm9tICcuLi9oZWxwRnVuY3Mvc2V0U2Nyb2xsVG8nOyAvLyBzZXQgc2Nyb2xsIGxldmVsIGZvciBkYXRlIGxpc3RzXHJcbmltcG9ydCBNaW51dGVUaW1lciBmcm9tICcuLi90aW1lck1pbnV0ZXMnOyAvLyBNaW51dGVUaW1lclxyXG5pbXBvcnQgY2hlY2taZXJvIGZyb20gJy4uL2hlbHBGdW5jcy9jaGVja1plcm8nOyAvLyByZXR1cm4gMDEgaW5zdGVhZCAxXHJcbmltcG9ydCBoaWRlUG9wVXAgZnJvbSAnLi4vaGVscEZ1bmNzL2hpZGVQb3BVcCc7IC8vIGhpZGUgbW9kYWxzXHJcbmltcG9ydCBjcmVhdGVQb3BVcFdpbmRvdyBmcm9tICcuLi9oZWxwRnVuY3MvY3JlYXRlUG9wVXBXaW5kb3cnOyAvLyBjcmVhdGUgbW9kYWxzXHJcbmltcG9ydCB2YWxpZGF0ZU1pbnV0ZXNJbnB1dCBmcm9tICcuLi9oZWxwRnVuY3MvdmFsaWRhdGVNaW51dGVzSW5wdXQnOyAvLyB2YWxpZGF0ZSBpbnB1dCBmb3IgbWludXRlIHRpbWVyXHJcbmltcG9ydCB2YWxpZGF0ZURhdGVJbnB1dCBmcm9tICcuLi9oZWxwRnVuY3MvdmFsaWRhdGVEYXRlSW5wdXQnOyAvL3ZhbGlkYXRlIGlucHV0IGZvciBkYXRlIHRpbWVyXHJcblxyXG5sZXQgc2hvd1BvcFVwRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcl9kYXRlJyk7XHJcbmxldCBzaG93UG9wVXBNaW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVyX21pbnV0ZXMnKTtcclxubGV0IHBvcHVwRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVfcG9wdXBfZGF0ZScpO1xyXG5sZXQgcG9wdXBNaW51dGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZV9wb3B1cF9taW51dGVzJyk7XHJcbnNob3dQb3BVcERhdGUub25jbGljayA9ICgpID0+IGNyZWF0ZVBvcFVwV2luZG93KHBvcHVwRGF0ZSk7XHJcbnNob3dQb3BVcE1pbnMub25jbGljayA9ICgpID0+IGNyZWF0ZVBvcFVwV2luZG93KHBvcHVwTWludXRlcyk7XHJcblxyXG5sZXQgY3JlYXRlQnV0dG9uRGF0ZVRpbWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NyZWF0ZV9idXR0b25fZGF0ZV90aW1lcicpO1xyXG5cclxuY3JlYXRlQnV0dG9uRGF0ZVRpbWVyLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgbGV0IGRhdGUgPSB2YWxpZGF0ZURhdGVJbnB1dChtb250aHNTZWxlY3QsIGRheXNTZWxlY3QsIGhvdXJzU2VsZWN0LCBtaW5zU2VsZWN0KTtcclxuICBpZiAoZGF0ZSkge1xyXG4gICAgc3RhcnRDcmVhdGVEYXRlKGRhdGUpO1xyXG4gICAgaGlkZVBvcFVwKHBvcHVwRGF0ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5jcmVhdGVMaXN0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXlzX29wdGlvbnMnKSwgMSwgMzEpO1xyXG5jcmVhdGVMaXN0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob3Vyc19vcHRpb25zJyksIDAsIDIzKTtcclxuY3JlYXRlTGlzdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluc19vcHRpb25zJyksIDAsIDU5KTtcclxuXHJcbmxldCBtb250aHNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9udGhzX3NlbGVjdCcpXHJcbmxldCBkYXlzU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RheXNfc2VsZWN0Jyk7XHJcbmxldCBob3Vyc1NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob3Vyc19zZWxlY3QnKTtcclxubGV0IG1pbnNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluc19zZWxlY3QnKTtcclxuXHJcbmxldCBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdCcpO1xyXG5sZXQgb3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb25zJyk7XHJcblxyXG5sZXQgbW9udGhzID0gWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXTtcclxuXHJcbnNldFNlbGVjdE5hbWVzKCk7XHJcbnNldExpc3RlbmVycygpO1xyXG5cclxuLy8gc2V0IGRlZmF1bHQgZGF0ZSBvbiB0aW1lcidzIHNlbGVjdHNcclxuZnVuY3Rpb24gc2V0U2VsZWN0TmFtZXMoKSB7IFxyXG4gIGxldCBkYXRlID0gbmV3IERhdGUoKTtcclxuICBtb250aHNTZWxlY3QudGV4dENvbnRlbnQgPSBtb250aHNbZGF0ZS5nZXRNb250aCgpXTtcclxuICBkYXlzU2VsZWN0LnRleHRDb250ZW50ID0gY2hlY2taZXJvKGRhdGUuZ2V0RGF0ZSgpKTtcclxuICBob3Vyc1NlbGVjdC50ZXh0Q29udGVudCA9IGNoZWNrWmVybyhkYXRlLmdldEhvdXJzKCkrMSk7XHJcbiAgbWluc1NlbGVjdC50ZXh0Q29udGVudCA9ICcwMCc7XHJcbn1cclxuXHJcbi8vIHNldCB0b2dnbGUgbG9naWMgb2Ygc2VsZWN0c1xyXG5mdW5jdGlvbiBzZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHNlbGVjdHMuZm9yRWFjaCggKGVsZW0sIGkpID0+IHtcclxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgb3B0aW9uc1tpXS5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2cob3B0aW9uc1tpXS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKTtcclxuICAgICAgICBzZXRTY3JvbGxUbyhvcHRpb25zW2ldLCBvcHRpb25zW2ldLnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQpO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBvcHRpb25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSB0YXJnZXQudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgICAgfSk7XHJcbiAgXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICBpZiAoIGUudGFyZ2V0ICE9IGVsZW0gKSBvcHRpb25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgIH0pXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIGNyZWF0ZSBsaXN0c1xyXG5mdW5jdGlvbiBjcmVhdGVMaXN0KGVsZW0sIGZyb20sIHRvKSB7XHJcbiAgZm9yIChsZXQgaSA9IGZyb207IGkgPD0gdG87IGkrKykge1xyXG4gICAgbGV0IGFwcGVuZEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGFwcGVuZEVsZW0uY2xhc3NMaXN0LmFkZCgnb3B0aW9uJyk7XHJcbiAgICBhcHBlbmRFbGVtLnRleHRDb250ZW50ID0gY2hlY2taZXJvKGkpO1xyXG4gICAgZWxlbS5hcHBlbmQoYXBwZW5kRWxlbSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuICBmdW5jdGlvbiBzdGFydENyZWF0ZURhdGUoZGF0ZSkge1xyXG5cclxuICAgIGxldCB0aW1lciA9IG5ldyBEYXRlVGltZXIobmV3IERhdGUoMjAxOSwgZGF0ZS5tb250aHMsIGRhdGUuZGF5cywgZGF0ZS5ob3VycywgZGF0ZS5taW5zKSk7XHJcbiAgICB0aW1lci5nZW5lcmF0ZSgpO1xyXG4gICAgdGltZXIuc3RhcnRDb3VudCgpO1xyXG4gICAgdGltZXIuY3JlYXRlU291bmQodGltZXIuc291bmQpO1xyXG4gICAgc3RvcmFnZUFycmF5LnB1c2godGltZXIpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RpbWVycycsIEpTT04uc3RyaW5naWZ5KHN0b3JhZ2VBcnJheSkpO1xyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQub25rZXlkb3duID0gZSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT0gJzEnICYmIGUuYWx0S2V5ICYmICFwb3B1cERhdGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93X3BvcHVwJykpIHtcclxuICAgICAgY3JlYXRlUG9wVXBXaW5kb3cocG9wdXBEYXRlKTtcclxuICAgIH1cclxuICAgIGlmIChlLmtleSA9PSAnMicgJiYgZS5hbHRLZXkgJiYgIXBvcHVwTWludXRlcy5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3dfcG9wdXAnKSkge1xyXG4gICAgICBjcmVhdGVQb3BVcFdpbmRvdyhwb3B1cE1pbnV0ZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGUua2V5ID09ICdFc2NhcGUnKSBoaWRlUG9wVXAocG9wdXBEYXRlLCBwb3B1cE1pbnV0ZXMpO1xyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZV9idXR0b25fbWludXRlX3RpbWVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBsZXQgc2VjSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2VjXCJdJyk7XHJcbiAgICBpZiAoK3NlY0lucHV0LnZhbHVlID49IDYwKSB7XHJcbiAgICAgIGFsZXJ0KCdXcm9uZyBzZWNvbmRzIG51bWJlcicpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCB0aW1lciA9IG5ldyBNaW51dGVUaW1lcihEYXRlLm5vdygpKygrbWludXRlc0lucHV0c1swXS52YWx1ZSo2MCoxMDAwKSsoK21pbnV0ZXNJbnB1dHNbMV0udmFsdWUqMTAwMCkpO1xyXG4gICAgICB0aW1lci5nZW5lcmF0ZSgpO1xyXG4gICAgICB0aW1lci5zdGFydENvdW50KCk7XHJcbiAgICAgIHRpbWVyLmNyZWF0ZVNvdW5kKHRpbWVyLnNvdW5kKTtcclxuICAgICAgc3RvcmFnZUFycmF5LnB1c2godGltZXIpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGltZXJzJywgSlNPTi5zdHJpbmdpZnkoc3RvcmFnZUFycmF5KSk7XHJcbiAgICAgIGhpZGVQb3BVcChwb3B1cE1pbnV0ZXMpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgbGV0IG1pbnV0ZXNJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXRfcG9wdXAnKTtcclxuICBtaW51dGVzSW5wdXRzLmZvckVhY2goIGlucHV0ID0+IHtcclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB2YWxpZGF0ZU1pbnV0ZXNJbnB1dCk7XHJcbiAgfSk7XHJcblxyXG5cclxuIiwiXHJcbmltcG9ydCAnLi9qcy9zdG9yYWdlU2F2ZS9zdG9yYWdlQ29kZSc7IC8vIG5lZWRlZCBmb3IgbG9jYWxTdG9yYWdlKHNhdmUgdGltZXJzKVxyXG5pbXBvcnQgJy4vanMvcG9wVXBXaW5kb3cvbWFpblBvcFVwJzsgLy8gbmVlZGVkIGZvciBwb3BVcCBtb2RhbHNcclxuaW1wb3J0ICcuL2pzL25hdkJsb2NrL25hdkJsb2NrJzsgLy8gdG9wIGJsb2NrIGFuaW1hdGUgd2hlbiBwYWdlIHNjcm9sbGVkXHJcblxyXG5cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDaElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")}]);